

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Structures &mdash; ProtoBase 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=01f34227"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Query System" href="queries.html" />
    <link rel="prev" title="Storage Layer" href="storage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ProtoBase
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core.html">Core Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="storage.html">Storage Layer</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Data Structures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dictionary">Dictionary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#proto_db.dictionaries.Dictionary"><code class="docutils literal notranslate"><span class="pre">Dictionary</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#proto_db.dictionaries.RepeatedKeysDictionary"><code class="docutils literal notranslate"><span class="pre">RepeatedKeysDictionary</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hash-dictionary">Hash Dictionary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary"><code class="docutils literal notranslate"><span class="pre">HashDictionary</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-proto_db.lists">List</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#proto_db.lists.List"><code class="docutils literal notranslate"><span class="pre">List</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-proto_db.sets">Set</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#proto_db.sets.Set"><code class="docutils literal notranslate"><span class="pre">Set</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#usage-examples">Usage Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dictionary-example">Dictionary Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#repeatedkeysdictionary-example">RepeatedKeysDictionary Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hash-dictionary-example">Hash Dictionary Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#list-example">List Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-example">Set Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="queries.html">Query System</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="fsm.html">Finite State Machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#core-components">Core Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#storage-layer">Storage Layer</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#data-structures">Data Structures</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Data Structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dictionary">Dictionary</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hash-dictionary">Hash Dictionary</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-proto_db.lists">List</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-proto_db.sets">Set</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage-examples">Usage Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#query-system">Query System</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#exceptions">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#finite-state-machine">Finite State Machine</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_usage.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ProtoBase</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">API Reference</a></li>
      <li class="breadcrumb-item active">Data Structures</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/data_structures.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-structures">
<h1>Data Structures<a class="headerlink" href="#data-structures" title="Link to this heading"></a></h1>
<p>This module provides the data structures of ProtoBase, which are built on top of the core components.</p>
<section id="dictionary">
<h2>Dictionary<a class="headerlink" href="#dictionary" title="Link to this heading"></a></h2>
<dl class="py class" id="module-proto_db.dictionaries">
<dt class="sig sig-object py" id="proto_db.dictionaries.Dictionary">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">proto_db.dictionaries.</span></span><span class="sig-name descname"><span class="pre">Dictionary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_pointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#Dictionary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.Dictionary" title="Link to this definition"></a></dt>
<dd><p>Represents a durable, transaction-safe dictionary-like mapping between strings and values,
with support for concurrent modifications.</p>
<p>Only Atoms are recommended as keys and values to ensure consistency and durability.
Mixing other objects is not supported, and no warnings will be issued for doing so.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a>)</p></li>
<li><p><strong>transaction</strong> (<em>AbstractTransaction</em>)</p></li>
<li><p><strong>atom_pointer</strong> (<a class="reference internal" href="core.html#proto_db.common.AtomPointer" title="proto_db.common.AtomPointer"><em>AtomPointer</em></a>)</p></li>
<li><p><strong>op_log</strong> (<em>list</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.Dictionary.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_pointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#Dictionary.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.Dictionary.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a>)</p></li>
<li><p><strong>transaction</strong> (<em>AbstractTransaction</em>)</p></li>
<li><p><strong>atom_pointer</strong> (<a class="reference internal" href="core.html#proto_db.common.AtomPointer" title="proto_db.common.AtomPointer"><em>AtomPointer</em></a>)</p></li>
<li><p><strong>op_log</strong> (<em>list</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.Dictionary.as_iterable">
<span class="sig-name descname"><span class="pre">as_iterable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#Dictionary.as_iterable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.Dictionary.as_iterable" title="Link to this definition"></a></dt>
<dd><p>Provides an iterable generator for the dictionary’s key-value pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A generator yielding tuples of (key, value).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[tuple[str, object]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.Dictionary.as_query_plan">
<span class="sig-name descname"><span class="pre">as_query_plan</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#Dictionary.as_query_plan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.Dictionary.as_query_plan" title="Link to this definition"></a></dt>
<dd><p>Converts the dictionary into a QueryPlan, a representation for query execution.
:return: The dictionary’s query plan.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="queries.html#proto_db.common.QueryPlan" title="proto_db.common.QueryPlan"><em>QueryPlan</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.Dictionary.get_at">
<span class="sig-name descname"><span class="pre">get_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#Dictionary.get_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.Dictionary.get_at" title="Link to this definition"></a></dt>
<dd><p>Gets the element at a given key exists in the dictionary.</p>
<p>Uses binary search to find the key efficiently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – The string key to be searched.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value storea at key or None if not found</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.Dictionary.set_at">
<span class="sig-name descname"><span class="pre">set_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#Dictionary.set_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.Dictionary.set_at" title="Link to this definition"></a></dt>
<dd><p>Inserts or updates a key-value pair in the dictionary.</p>
<p>If the key exists, updates its value and rebalances the underlying structure.
If the key does not exist, inserts the new key-value pair at the appropriate position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – The string key for the item being added or updated.</p></li>
<li><p><strong>value</strong> (<em>object</em>) – The value associated with the key.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new instance of Dictionary with the updated content.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.dictionaries.Dictionary" title="proto_db.dictionaries.Dictionary"><em>Dictionary</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.Dictionary.remove_at">
<span class="sig-name descname"><span class="pre">remove_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#Dictionary.remove_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.Dictionary.remove_at" title="Link to this definition"></a></dt>
<dd><p>Removes a key-value pair from the dictionary if the key exists.</p>
<p>If the key is found, it removes the corresponding entry and rebalances the structure.
If the key does not exist, the method returns the original dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – The string key of the item to be removed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new instance of Dictionary reflecting the removal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.dictionaries.Dictionary" title="proto_db.dictionaries.Dictionary"><em>Dictionary</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.Dictionary.has">
<span class="sig-name descname"><span class="pre">has</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#Dictionary.has"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.Dictionary.has" title="Link to this definition"></a></dt>
<dd><p>Checks whether a given key exists in the dictionary.</p>
<p>Uses binary search to find the key efficiently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – The string key to be searched.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the key is found; otherwise, False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p>A <code class="docutils literal notranslate"><span class="pre">Dictionary</span></code> is a key-value mapping with string keys. It supports adding, removing, and updating key-value pairs, provides efficient lookup by key, and can store any type of value.</p>
<dl class="py class">
<dt class="sig sig-object py" id="proto_db.dictionaries.RepeatedKeysDictionary">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">proto_db.dictionaries.</span></span><span class="sig-name descname"><span class="pre">RepeatedKeysDictionary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_pointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#RepeatedKeysDictionary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.RepeatedKeysDictionary" title="Link to this definition"></a></dt>
<dd><p>Represents a dictionary-like data structure allowing multiple records
associated with a single key, with support for concurrent modifications.</p>
<p>This class extends the base Dictionary class and provides additional
functionality for handling repeated keys, updating, and removing
associated records. Duplicate values in the list associated with a key
are allowed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a>)</p></li>
<li><p><strong>transaction</strong> (<em>AbstractTransaction</em>)</p></li>
<li><p><strong>atom_pointer</strong> (<a class="reference internal" href="core.html#proto_db.common.AtomPointer" title="proto_db.common.AtomPointer"><em>AtomPointer</em></a>)</p></li>
<li><p><strong>op_log</strong> (<em>list</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.RepeatedKeysDictionary.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_pointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#RepeatedKeysDictionary.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.RepeatedKeysDictionary.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a>)</p></li>
<li><p><strong>transaction</strong> (<em>AbstractTransaction</em>)</p></li>
<li><p><strong>atom_pointer</strong> (<a class="reference internal" href="core.html#proto_db.common.AtomPointer" title="proto_db.common.AtomPointer"><em>AtomPointer</em></a>)</p></li>
<li><p><strong>op_log</strong> (<em>list</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.RepeatedKeysDictionary.get_at">
<span class="sig-name descname"><span class="pre">get_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#RepeatedKeysDictionary.get_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.RepeatedKeysDictionary.get_at" title="Link to this definition"></a></dt>
<dd><p>Gets the elements at a given key, as a Set, if exists in the dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – The string key to be searched.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value storea at key or None if not found</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.sets.Set" title="proto_db.sets.Set"><em>Set</em></a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.RepeatedKeysDictionary.set_at">
<span class="sig-name descname"><span class="pre">set_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#RepeatedKeysDictionary.set_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.RepeatedKeysDictionary.set_at" title="Link to this definition"></a></dt>
<dd><p>Registers an intent to insert or update a key-value pair in the dictionary.</p>
<p>This method checks if the specified key already exists in the dictionary. If the key exists,
its associated record list is updated with the new value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – The string key for the item being added or updated.</p></li>
<li><p><strong>value</strong> (<a class="reference internal" href="core.html#proto_db.common.Atom" title="proto_db.common.Atom"><em>Atom</em></a>) – The value associated with the key.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new instance of Dictionary with the updated content.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.dictionaries.RepeatedKeysDictionary" title="proto_db.dictionaries.RepeatedKeysDictionary"><em>RepeatedKeysDictionary</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.RepeatedKeysDictionary.remove_at">
<span class="sig-name descname"><span class="pre">remove_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#RepeatedKeysDictionary.remove_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.RepeatedKeysDictionary.remove_at" title="Link to this definition"></a></dt>
<dd><p>Registers an intent to remove a key and its associated values from the dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – The string key of the item to be removed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new instance of Dictionary reflecting the removal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.dictionaries.RepeatedKeysDictionary" title="proto_db.dictionaries.RepeatedKeysDictionary"><em>RepeatedKeysDictionary</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.dictionaries.RepeatedKeysDictionary.remove_record_at">
<span class="sig-name descname"><span class="pre">remove_record_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/dictionaries.html#RepeatedKeysDictionary.remove_record_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.dictionaries.RepeatedKeysDictionary.remove_record_at" title="Link to this definition"></a></dt>
<dd><p>Registers an intent to remove a specific record from the set associated with a given key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – The key in the dictionary whose associated set must be updated.</p></li>
<li><p><strong>record</strong> (<a class="reference internal" href="core.html#proto_db.common.Atom" title="proto_db.common.Atom"><em>Atom</em></a>) – The specific record to be removed from the set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns an updated dictionary object with the intended removal logged.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.dictionaries.RepeatedKeysDictionary" title="proto_db.dictionaries.RepeatedKeysDictionary"><em>RepeatedKeysDictionary</em></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p>A <code class="docutils literal notranslate"><span class="pre">RepeatedKeysDictionary</span></code> is a dictionary that allows multiple values for the same key. It is useful for representing one-to-many relationships. Each key in the dictionary is associated with a <code class="docutils literal notranslate"><span class="pre">Set</span></code> of values, allowing efficient storage and retrieval of multiple values per key.</p>
<p>The class provides methods for:</p>
<ul class="simple">
<li><p>Adding values to a key’s set with <code class="docutils literal notranslate"><span class="pre">set_at</span></code></p></li>
<li><p>Retrieving all values for a key as a <code class="docutils literal notranslate"><span class="pre">Set</span></code> with <code class="docutils literal notranslate"><span class="pre">get_at</span></code></p></li>
<li><p>Removing all values for a key with <code class="docutils literal notranslate"><span class="pre">remove_at</span></code></p></li>
<li><p>Removing a specific value from a key’s set with <code class="docutils literal notranslate"><span class="pre">remove_record_at</span></code></p></li>
<li><p>Handling concurrent modifications with <code class="docutils literal notranslate"><span class="pre">_rebase_on_concurrent_update</span></code></p></li>
</ul>
</section>
<section id="hash-dictionary">
<h2>Hash Dictionary<a class="headerlink" href="#hash-dictionary" title="Link to this heading"></a></h2>
<dl class="py class" id="module-proto_db.hash_dictionaries">
<dt class="sig sig-object py" id="proto_db.hash_dictionaries.HashDictionary">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">proto_db.hash_dictionaries.</span></span><span class="sig-name descname"><span class="pre">HashDictionary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_pointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/hash_dictionaries.html#HashDictionary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.hash_dictionaries.HashDictionary" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>value</strong> (<a class="reference internal" href="core.html#proto_db.common.Atom" title="proto_db.common.Atom"><em>Atom</em></a><em> | </em><em>None</em>)</p></li>
<li><p><strong>next</strong> (<a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary" title="proto_db.hash_dictionaries.HashDictionary"><em>HashDictionary</em></a>)</p></li>
<li><p><strong>previous</strong> (<a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary" title="proto_db.hash_dictionaries.HashDictionary"><em>HashDictionary</em></a>)</p></li>
<li><p><strong>transaction</strong> (<em>AbstractTransaction</em>)</p></li>
<li><p><strong>atom_pointer</strong> (<a class="reference internal" href="core.html#proto_db.common.AtomPointer" title="proto_db.common.AtomPointer"><em>AtomPointer</em></a>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="proto_db.hash_dictionaries.HashDictionary.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_pointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/hash_dictionaries.html#HashDictionary.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.hash_dictionaries.HashDictionary.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>value</strong> (<em>object</em>)</p></li>
<li><p><strong>next</strong> (<a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary" title="proto_db.hash_dictionaries.HashDictionary"><em>HashDictionary</em></a>)</p></li>
<li><p><strong>previous</strong> (<a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary" title="proto_db.hash_dictionaries.HashDictionary"><em>HashDictionary</em></a>)</p></li>
<li><p><strong>transaction</strong> (<em>AbstractTransaction</em>)</p></li>
<li><p><strong>atom_pointer</strong> (<a class="reference internal" href="core.html#proto_db.common.AtomPointer" title="proto_db.common.AtomPointer"><em>AtomPointer</em></a>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.hash_dictionaries.HashDictionary.as_iterable">
<span class="sig-name descname"><span class="pre">as_iterable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/hash_dictionaries.html#HashDictionary.as_iterable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.hash_dictionaries.HashDictionary.as_iterable" title="Link to this definition"></a></dt>
<dd><p>Get an iterable generator of the HashDictionary items.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A generator that yields tuples (key, value) representing the nodes of the tree.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.hash_dictionaries.HashDictionary.as_query_plan">
<span class="sig-name descname"><span class="pre">as_query_plan</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/hash_dictionaries.html#HashDictionary.as_query_plan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.hash_dictionaries.HashDictionary.as_query_plan" title="Link to this definition"></a></dt>
<dd><p>Get a QueryPlan out of the HashDictionary
:return:</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="queries.html#proto_db.common.QueryPlan" title="proto_db.common.QueryPlan"><em>QueryPlan</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.hash_dictionaries.HashDictionary.get_at">
<span class="sig-name descname"><span class="pre">get_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/hash_dictionaries.html#HashDictionary.get_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.hash_dictionaries.HashDictionary.get_at" title="Link to this definition"></a></dt>
<dd><p>Searches for the value associated with the given key in the HashDictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>int</em>) – The integer key to look for in the structure.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value (Atom) associated with the key, or None if not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.hash_dictionaries.HashDictionary.has">
<span class="sig-name descname"><span class="pre">has</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/hash_dictionaries.html#HashDictionary.has"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.hash_dictionaries.HashDictionary.has" title="Link to this definition"></a></dt>
<dd><p>Determines whether the specified key exists within the HashDictionary.</p>
<p>This method iterates through the dictionary structure to locate a node
with a key that matches the input key. If the key is found, it confirms
its existence. If the key is not found after traversing the relevant
nodes of the structure, the method returns False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>int</em>) – The integer key to locate within the structure.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the key exists, otherwise False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.hash_dictionaries.HashDictionary.set_at">
<span class="sig-name descname"><span class="pre">set_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/hash_dictionaries.html#HashDictionary.set_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.hash_dictionaries.HashDictionary.set_at" title="Link to this definition"></a></dt>
<dd><p>Adds or updates a key-value pair in the HashDictionary.</p>
<p>Creates a new node for the key or updates the value if the key already exists.
Rebalances the structure after insertion if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>int</em>) – The key to set in the HashDictionary.</p></li>
<li><p><strong>value</strong> (<em>object</em>) – The value (Atom) associated with the key.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new HashDictionary reflecting the updated state.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary" title="proto_db.hash_dictionaries.HashDictionary"><em>HashDictionary</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.hash_dictionaries.HashDictionary.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/hash_dictionaries.html#HashDictionary.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.hash_dictionaries.HashDictionary.merge" title="Link to this definition"></a></dt>
<dd><p>Merge self with other HashDictionary
:param other:
:return: the new merged dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary" title="proto_db.hash_dictionaries.HashDictionary"><em>HashDictionary</em></a>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary" title="proto_db.hash_dictionaries.HashDictionary"><em>HashDictionary</em></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p>A <code class="docutils literal notranslate"><span class="pre">HashDictionary</span></code> is a dictionary with hash-based lookups. It supports non-string keys, provides efficient lookup by key, and can store any type of value.</p>
</section>
<section id="module-proto_db.lists">
<span id="list"></span><h2>List<a class="headerlink" href="#module-proto_db.lists" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="proto_db.lists.List">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">proto_db.lists.</span></span><span class="sig-name descname"><span class="pre">List</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_pointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>object</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>empty</strong> (<em>bool</em>)</p></li>
<li><p><strong>next</strong> (<a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a>)</p></li>
<li><p><strong>previous</strong> (<a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a>)</p></li>
<li><p><strong>transaction</strong> (<em>AbstractTransaction</em>)</p></li>
<li><p><strong>atom_pointer</strong> (<a class="reference internal" href="core.html#proto_db.common.AtomPointer" title="proto_db.common.AtomPointer"><em>AtomPointer</em></a>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_pointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>object</em>)</p></li>
<li><p><strong>empty</strong> (<em>bool</em>)</p></li>
<li><p><strong>next</strong> (<a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a>)</p></li>
<li><p><strong>previous</strong> (<a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a>)</p></li>
<li><p><strong>transaction</strong> (<em>AbstractTransaction</em>)</p></li>
<li><p><strong>atom_pointer</strong> (<a class="reference internal" href="core.html#proto_db.common.AtomPointer" title="proto_db.common.AtomPointer"><em>AtomPointer</em></a>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.as_iterable">
<span class="sig-name descname"><span class="pre">as_iterable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.as_iterable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.as_iterable" title="Link to this definition"></a></dt>
<dd><p>Get an iterable list of the list items</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[tuple[int, object]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.as_query_plan">
<span class="sig-name descname"><span class="pre">as_query_plan</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.as_query_plan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.as_query_plan" title="Link to this definition"></a></dt>
<dd><p>Get a QueryPlan out of the List
:return:</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="queries.html#proto_db.common.QueryPlan" title="proto_db.common.QueryPlan"><em>QueryPlan</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.get_at">
<span class="sig-name descname"><span class="pre">get_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.get_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.get_at" title="Link to this definition"></a></dt>
<dd><p>Searches for the value associated with the offset in the List.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>offset</strong> (<em>int</em>) – The integer offset to look up for in the structure.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value (Atom) associated with the key, or None if not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.html#proto_db.common.Atom" title="proto_db.common.Atom"><em>Atom</em></a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.set_at">
<span class="sig-name descname"><span class="pre">set_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.set_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.set_at" title="Link to this definition"></a></dt>
<dd><p>Updates or inserts a value in a self-balancing linked list structure at the given offset.</p>
<p>If the offset is negative, it is treated as counting backwards from the end
of the list. If the offset is out of bounds, the value is inserted at the
start or end of the list. The method ensures the appropriate rebalancing
after performing the insertion or update.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>offset</strong> (<em>int</em>) – Specifies the position in the list where the value is to be
inserted or updated. Negative values indicate a position relative
to the end of the list.</p></li>
<li><p><strong>value</strong> (<em>object</em>) – The new value to be set at the specified offset. An instance
of the <cite>Atom</cite> class.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new instance of the <cite>List</cite> reflecting the updated state of the
self-balancing linked list, or None if no changes occurred.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.insert_at">
<span class="sig-name descname"><span class="pre">insert_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.insert_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.insert_at" title="Link to this definition"></a></dt>
<dd><p>Insert value at the specified position. All followers will shift its position by one.</p>
<p>Rebalances the structure after insertion if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>offset</strong> (<em>int</em>) – The position to insert the new value</p></li>
<li><p><strong>value</strong> (<em>object</em>) – The value (Atom) associated with the key.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new List reflecting the updated state.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.remove_at">
<span class="sig-name descname"><span class="pre">remove_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.remove_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.remove_at" title="Link to this definition"></a></dt>
<dd><p>Removes the element at the specified index.
:param offset:
:return:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>offset</strong> (<em>int</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.remove_first">
<span class="sig-name descname"><span class="pre">remove_first</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.remove_first"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.remove_first" title="Link to this definition"></a></dt>
<dd><p>Removes the first element from the list. If the list is empty, the operation
returns the current list instance. Otherwise, it modifies the list by removing
the first element, re-balancing the structure if required.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A new list instance where the first element has been removed, or the
original list instance if the list was empty.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List">List</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.remove_last">
<span class="sig-name descname"><span class="pre">remove_last</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.remove_last"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.remove_last" title="Link to this definition"></a></dt>
<dd><p>Removes the last element from the list. If the list is empty, the operation
returns the current list instance. Otherwise, it modifies the list by removing
the last element, re-balancing the structure if required.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.extend">
<span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.extend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.extend" title="Link to this definition"></a></dt>
<dd><p>Extend the current list with the given items, maintaining the structure of the list.
If the current list is empty, the returned list is a new list with the provided items.
Otherwise, appends or extends the list while ensuring the correct structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>items</strong> (<a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List"><em>List</em></a>) – The items to extend the current list with.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new rebalanced list with the items appended.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List">List</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.append_first">
<span class="sig-name descname"><span class="pre">append_first</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.append_first"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.append_first" title="Link to this definition"></a></dt>
<dd><p>Inserts the given item at the first position of a collection by delegating to the <cite>insert_at</cite>
method. This method serves as a utility to prepend an atom to the existing collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> (<a class="reference internal" href="core.html#proto_db.common.Atom" title="proto_db.common.Atom"><em>Atom</em></a>) – The Atom instance to be appended as the first element.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The result returned by the <cite>insert_at</cite> method when the item is inserted at index 0.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.append_last">
<span class="sig-name descname"><span class="pre">append_last</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.append_last"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.append_last" title="Link to this definition"></a></dt>
<dd><p>Appends the specified item to the end of the collection by inserting it at the
last position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> (<a class="reference internal" href="core.html#proto_db.common.Atom" title="proto_db.common.Atom"><em>Atom</em></a>) – The item to be appended to the collection.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The result of the insertion operation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.head">
<span class="sig-name descname"><span class="pre">head</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">upper_limit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.head"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.head" title="Link to this definition"></a></dt>
<dd><p>Returns a portion of the list up to the specified upper limit. The behavior
differs based on the <cite>upper_limit</cite> parameter, adjusting for cases where
the limit exceeds the bounds of the list or is composed negatively, as well
as scenarios requiring rebalancing of the nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>upper_limit</strong> (<em>int</em>) – The maximum number of items to include in the resulting list. If negative,
it represents a count from the end of the list. Values shorter or greater
than the bounds of the list are normalized accordingly.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new list instance containing the items from the start to the specified
<cite>upper_limit</cite>, rebalanced as necessary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.tail">
<span class="sig-name descname"><span class="pre">tail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lower_limit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.tail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.tail" title="Link to this definition"></a></dt>
<dd><p>Provides functionality for handling and creating a new sublist starting from the given
lower limit index, based on the current doubly linked list structure. The method adjusts
and returns either the list starting from the given position, or an empty list if the
provided lower limit is out of range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>lower_limit</strong> (<em>int</em>) – The starting index from which the sublist should be created.
This index can be positive or negative. If negative, it starts counting from
the end of the list.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The modified sublist starting from the given lower limit, or an empty list
if lower_limit is outside the range of the current list’s indices.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.lists.List" title="proto_db.lists.List">List</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.lists.List.slice">
<span class="sig-name descname"><span class="pre">slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_offset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/lists.html#List.slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.lists.List.slice" title="Link to this definition"></a></dt>
<dd><p>Slices a portion of a sequence based on the specified start and end offsets.</p>
<p>This method returns a subset of the sequence from the specified starting
offset (inclusive) to the ending offset (exclusive). The offsets should
be within the bounds of the sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>from_offset</strong> (<em>int</em>) – The starting index of the slice (inclusive).</p></li>
<li><p><strong>to_offset</strong> (<em>int</em>) – The ending index of the slice (exclusive).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A portion of the sequence between the specified offsets.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Sequence</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p>A <code class="docutils literal notranslate"><span class="pre">List</span></code> is an ordered collection of items. It supports adding, removing, and updating items, provides efficient access by index, and can store any type of value.</p>
</section>
<section id="module-proto_db.sets">
<span id="set"></span><h2>Set<a class="headerlink" href="#module-proto_db.sets" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="proto_db.sets.Set">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">proto_db.sets.</span></span><span class="sig-name descname"><span class="pre">Set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_pointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/sets.html#Set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.sets.Set" title="Link to this definition"></a></dt>
<dd><p>A custom implementation of a mathematical set, storing unique elements of type <cite>Atom</cite>.
The internal data structure is backed by a <cite>HashDictionary</cite> which ensures that
duplicates are avoided and allows for efficient operations such as lookup, insertion,
and element removal.
Sets can handle any object, but only using Atoms the Set will be durable. Mixing any other
objects with Atoms is not supported (no warning will be emitted)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary" title="proto_db.hash_dictionaries.HashDictionary"><em>HashDictionary</em></a>)</p></li>
<li><p><strong>transaction</strong> (<em>AbstractTransaction</em>)</p></li>
<li><p><strong>atom_pointer</strong> (<a class="reference internal" href="core.html#proto_db.common.AtomPointer" title="proto_db.common.AtomPointer"><em>AtomPointer</em></a>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="proto_db.sets.Set.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transaction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_pointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/sets.html#Set.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.sets.Set.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary" title="proto_db.hash_dictionaries.HashDictionary"><em>HashDictionary</em></a>)</p></li>
<li><p><strong>transaction</strong> (<em>AbstractTransaction</em>)</p></li>
<li><p><strong>atom_pointer</strong> (<a class="reference internal" href="core.html#proto_db.common.AtomPointer" title="proto_db.common.AtomPointer"><em>AtomPointer</em></a>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="proto_db.sets.Set.content">
<span class="sig-name descname"><span class="pre">content</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#proto_db.hash_dictionaries.HashDictionary" title="proto_db.hash_dictionaries.HashDictionary"><span class="pre">HashDictionary</span></a></em><a class="headerlink" href="#proto_db.sets.Set.content" title="Link to this definition"></a></dt>
<dd><p>Initializes a <cite>Set</cite> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> – The <cite>HashDictionary</cite> instance that represents the underlying storage of the set.</p></li>
<li><p><strong>transaction_id</strong> – (Optional) A unique transaction identifier for audit or rollback use.</p></li>
<li><p><strong>offset</strong> – An optional offset for identifying the set’s relative position in an operation.</p></li>
<li><p><strong>kwargs</strong> – Any additional data passed for extended configurations.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.sets.Set.as_iterable">
<span class="sig-name descname"><span class="pre">as_iterable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/sets.html#Set.as_iterable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.sets.Set.as_iterable" title="Link to this definition"></a></dt>
<dd><p>Converts the <cite>Set</cite> to an iterable structure, essentially a collection of its unique
elements, and yields each element stored in the set.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A generator containing all the elements (<cite>Atom</cite>) in the set.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[<a class="reference internal" href="core.html#proto_db.common.Atom" title="proto_db.common.Atom"><em>Atom</em></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.sets.Set.as_query_plan">
<span class="sig-name descname"><span class="pre">as_query_plan</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/sets.html#Set.as_query_plan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.sets.Set.as_query_plan" title="Link to this definition"></a></dt>
<dd><p>Converts the <cite>Set</cite> into a <cite>QueryPlan</cite> object for integration with larger query
execution frameworks. Delegates the conversion to the underlying <cite>HashDictionary</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <cite>QueryPlan</cite> representation of the current Set.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="queries.html#proto_db.common.QueryPlan" title="proto_db.common.QueryPlan"><em>QueryPlan</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.sets.Set.has">
<span class="sig-name descname"><span class="pre">has</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/sets.html#Set.has"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.sets.Set.has" title="Link to this definition"></a></dt>
<dd><p>Checks whether the specified <cite>key</cite> exists in the <cite>Set</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>object</em>) – The object to search for in the set. This can be an instance of <cite>Atom</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>True</cite> if the key exists in the set, otherwise <cite>False</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.sets.Set.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/sets.html#Set.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.sets.Set.add" title="Link to this definition"></a></dt>
<dd><p>Adds the specified <cite>key</cite> to the <cite>Set</cite>, creating and returning a new <cite>Set</cite>
that includes the newly added key.</p>
<p>The current <cite>Set</cite> instance remains immutable, and instead, a new instance is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>object</em>) – The object to add to the set. This can be an instance of <cite>Atom</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new <cite>Set</cite> object that contains the additional key.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.sets.Set" title="proto_db.sets.Set"><em>Set</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.sets.Set.remove_at">
<span class="sig-name descname"><span class="pre">remove_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/sets.html#Set.remove_at"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.sets.Set.remove_at" title="Link to this definition"></a></dt>
<dd><p>Removes the specified <cite>key</cite> from the <cite>Set</cite>, creating and returning a new <cite>Set</cite>
that excludes the specified key. Returns the same set if the key does not exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>object</em>) – The object to remove from the set. This can be an instance of <cite>Atom</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new <cite>Set</cite> object with the key removed, or unchanged if the key is absent.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.sets.Set" title="proto_db.sets.Set"><em>Set</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.sets.Set.union">
<span class="sig-name descname"><span class="pre">union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/sets.html#Set.union"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.sets.Set.union" title="Link to this definition"></a></dt>
<dd><p>Creates a new set containing all elements from both this set and the other set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#proto_db.sets.Set" title="proto_db.sets.Set"><em>Set</em></a>) – Another Set to union with this one.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new Set containing all elements from both sets.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.sets.Set" title="proto_db.sets.Set"><em>Set</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.sets.Set.intersection">
<span class="sig-name descname"><span class="pre">intersection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/sets.html#Set.intersection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.sets.Set.intersection" title="Link to this definition"></a></dt>
<dd><p>Creates a new set containing only elements that are present in both this set and the other set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#proto_db.sets.Set" title="proto_db.sets.Set"><em>Set</em></a>) – Another Set to intersect with this one.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new Set containing only elements present in both sets.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.sets.Set" title="proto_db.sets.Set"><em>Set</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="proto_db.sets.Set.difference">
<span class="sig-name descname"><span class="pre">difference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/proto_db/sets.html#Set.difference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#proto_db.sets.Set.difference" title="Link to this definition"></a></dt>
<dd><p>Creates a new set containing elements that are in this set but not in the other set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#proto_db.sets.Set" title="proto_db.sets.Set"><em>Set</em></a>) – Another Set to subtract from this one.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new Set containing elements in this set that are not in the other set.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#proto_db.sets.Set" title="proto_db.sets.Set"><em>Set</em></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p>A <code class="docutils literal notranslate"><span class="pre">Set</span></code> is an unordered collection of unique items. It supports adding and removing items, provides efficient membership testing, and ensures uniqueness of items.</p>
</section>
<section id="usage-examples">
<h2>Usage Examples<a class="headerlink" href="#usage-examples" title="Link to this heading"></a></h2>
<section id="dictionary-example">
<h3>Dictionary Example<a class="headerlink" href="#dictionary-example" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">proto_db</span>

<span class="c1"># Create a dictionary</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">proto_db</span><span class="o">.</span><span class="n">Dictionary</span><span class="p">()</span>

<span class="c1"># Add some key-value pairs</span>
<span class="n">d</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;John Doe&quot;</span>
<span class="n">d</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">d</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;john.doe@example.com&quot;</span>

<span class="c1"># Access values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>  <span class="c1"># Output: John Doe</span>

<span class="c1"># Check if a key exists</span>
<span class="k">if</span> <span class="s2">&quot;age&quot;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Age: </span><span class="si">{</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Iterate over keys</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="c1"># Iterate over values</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Iterate over key-value pairs</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="repeatedkeysdictionary-example">
<h3>RepeatedKeysDictionary Example<a class="headerlink" href="#repeatedkeysdictionary-example" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">proto_db</span>

<span class="c1"># Create a transaction and database</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">proto_db</span><span class="o">.</span><span class="n">Database</span><span class="p">()</span>
<span class="n">tr</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">new_transaction</span><span class="p">()</span>

<span class="c1"># Create a repeated keys dictionary</span>
<span class="n">rkd</span> <span class="o">=</span> <span class="n">proto_db</span><span class="o">.</span><span class="n">RepeatedKeysDictionary</span><span class="p">(</span><span class="n">transaction</span><span class="o">=</span><span class="n">tr</span><span class="p">)</span>

<span class="c1"># Add multiple values for the same key</span>
<span class="n">rkd</span> <span class="o">=</span> <span class="n">rkd</span><span class="o">.</span><span class="n">set_at</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">,</span> <span class="s2">&quot;Electronics&quot;</span><span class="p">)</span>
<span class="n">rkd</span> <span class="o">=</span> <span class="n">rkd</span><span class="o">.</span><span class="n">set_at</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">,</span> <span class="s2">&quot;Computers&quot;</span><span class="p">)</span>
<span class="n">rkd</span> <span class="o">=</span> <span class="n">rkd</span><span class="o">.</span><span class="n">set_at</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">,</span> <span class="s2">&quot;Laptops&quot;</span><span class="p">)</span>

<span class="c1"># Add values for another key</span>
<span class="n">rkd</span> <span class="o">=</span> <span class="n">rkd</span><span class="o">.</span><span class="n">set_at</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span> <span class="s2">&quot;Sale&quot;</span><span class="p">)</span>
<span class="n">rkd</span> <span class="o">=</span> <span class="n">rkd</span><span class="o">.</span><span class="n">set_at</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span> <span class="s2">&quot;New&quot;</span><span class="p">)</span>

<span class="c1"># Get all values for a key as a Set</span>
<span class="n">categories</span> <span class="o">=</span> <span class="n">rkd</span><span class="o">.</span><span class="n">get_at</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Categories:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">cat</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">categories</span><span class="o">.</span><span class="n">as_iterable</span><span class="p">()])</span>
<span class="c1"># Output: Categories: [&#39;Electronics&#39;, &#39;Computers&#39;, &#39;Laptops&#39;]</span>

<span class="c1"># Check if a key exists</span>
<span class="k">if</span> <span class="n">rkd</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">):</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="n">rkd</span><span class="o">.</span><span class="n">get_at</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tags:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">tag</span> <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags</span><span class="o">.</span><span class="n">as_iterable</span><span class="p">()])</span>
    <span class="c1"># Output: Tags: [&#39;Sale&#39;, &#39;New&#39;]</span>

<span class="c1"># Remove a specific value from a key&#39;s set</span>
<span class="n">rkd</span> <span class="o">=</span> <span class="n">rkd</span><span class="o">.</span><span class="n">remove_record_at</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">,</span> <span class="s2">&quot;Computers&quot;</span><span class="p">)</span>

<span class="c1"># Get the updated set of values</span>
<span class="n">updated_categories</span> <span class="o">=</span> <span class="n">rkd</span><span class="o">.</span><span class="n">get_at</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Updated categories:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">cat</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">updated_categories</span><span class="o">.</span><span class="n">as_iterable</span><span class="p">()])</span>
<span class="c1"># Output: Updated categories: [&#39;Electronics&#39;, &#39;Laptops&#39;]</span>

<span class="c1"># Remove all values for a key</span>
<span class="n">rkd</span> <span class="o">=</span> <span class="n">rkd</span><span class="o">.</span><span class="n">remove_at</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Has tags:&quot;</span><span class="p">,</span> <span class="n">rkd</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">))</span>  <span class="c1"># Output: Has tags: False</span>

<span class="c1"># Store the dictionary in the database</span>
<span class="n">tr</span><span class="o">.</span><span class="n">set_root_object</span><span class="p">(</span><span class="s2">&quot;product_attributes&quot;</span><span class="p">,</span> <span class="n">rkd</span><span class="p">)</span>
<span class="n">tr</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="hash-dictionary-example">
<h3>Hash Dictionary Example<a class="headerlink" href="#hash-dictionary-example" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">proto_db</span>

<span class="c1"># Create a hash dictionary</span>
<span class="n">hd</span> <span class="o">=</span> <span class="n">proto_db</span><span class="o">.</span><span class="n">HashDictionary</span><span class="p">()</span>

<span class="c1"># Add some key-value pairs with non-string keys</span>
<span class="n">hd</span><span class="p">[</span><span class="mi">123</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Value for 123&quot;</span>
<span class="n">hd</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span> <span class="o">=</span> <span class="s2">&quot;Value for tuple&quot;</span>
<span class="n">hd</span><span class="p">[</span><span class="nb">object</span><span class="p">()]</span> <span class="o">=</span> <span class="s2">&quot;Value for object&quot;</span>

<span class="c1"># Access values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">hd</span><span class="p">[</span><span class="mi">123</span><span class="p">])</span>  <span class="c1"># Output: Value for 123</span>

<span class="c1"># Check if a key exists</span>
<span class="k">if</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">in</span> <span class="n">hd</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tuple value: </span><span class="si">{</span><span class="n">hd</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Iterate over key-value pairs</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">hd</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="list-example">
<h3>List Example<a class="headerlink" href="#list-example" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">proto_db</span>

<span class="c1"># Create a list</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">proto_db</span><span class="o">.</span><span class="n">List</span><span class="p">()</span>

<span class="c1"># Add some items</span>
<span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;apple&quot;</span><span class="p">)</span>
<span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;banana&quot;</span><span class="p">)</span>
<span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;cherry&quot;</span><span class="p">)</span>

<span class="c1"># Access items by index</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># Output: apple</span>

<span class="c1"># Modify items</span>
<span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;blueberry&quot;</span>

<span class="c1"># Check length</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>  <span class="c1"># Output: 3</span>

<span class="c1"># Iterate over items</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="c1"># Slice the list</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>  <span class="c1"># Output: [&quot;blueberry&quot;, &quot;cherry&quot;]</span>
</pre></div>
</div>
</section>
<section id="set-example">
<h3>Set Example<a class="headerlink" href="#set-example" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">proto_db</span>

<span class="c1"># Create a set</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">proto_db</span><span class="o">.</span><span class="n">Set</span><span class="p">()</span>

<span class="c1"># Add some items</span>
<span class="n">s</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>

<span class="c1"># Check membership</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;red&quot;</span> <span class="ow">in</span> <span class="n">s</span><span class="p">)</span>  <span class="c1"># Output: True</span>

<span class="c1"># Remove an item</span>
<span class="n">s</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>

<span class="c1"># Check length</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>  <span class="c1"># Output: 2</span>

<span class="c1"># Iterate over items</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="c1"># Set operations</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">proto_db</span><span class="o">.</span><span class="n">Set</span><span class="p">()</span>
<span class="n">s2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
<span class="n">s2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>

<span class="c1"># Union</span>
<span class="n">union</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">union</span><span class="p">)</span>  <span class="c1"># Output: Set containing &quot;red&quot;, &quot;blue&quot;, &quot;yellow&quot;</span>

<span class="c1"># Intersection</span>
<span class="n">intersection</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">intersection</span><span class="p">)</span>  <span class="c1"># Output: Set containing &quot;blue&quot;</span>

<span class="c1"># Difference</span>
<span class="n">difference</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">difference</span><span class="p">)</span>  <span class="c1"># Output: Set containing &quot;red&quot;</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="storage.html" class="btn btn-neutral float-left" title="Storage Layer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="queries.html" class="btn btn-neutral float-right" title="Query System" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, ProtoBase Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>